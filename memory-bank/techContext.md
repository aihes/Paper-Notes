# 技术背景：Paper-Notes

## 1. 主要技术与工具

- **编程语言**:
  - **Python**: 项目的主要编程语言。根目录下的 `.python-version` 文件指定了确切的版本，以确保环境一致性。

- **依赖管理**:
  - **uv**: 一个快速的 Python 包安装器和解析器。`uv.lock` 文件锁定了项目的确切依赖版本，以实现可复现的构建。
  - **pyproject.toml**: 用于定义项目元数据和依赖项，是现代 Python 项目的标准。

- **核心 Python 库**:
  - `requests`: 用于发送 HTTP 请求，与外部 API（如 Twitter 发布服务）进行交互。
  - `python-dotenv`: 用于从 `.env` 文件加载环境变量，管理敏感数据和配置。
  - `argparse`: Python 标准库的一部分，用于构建用户友好的命令行界面。
  - `pathlib`: 用于以面向对象的方式处理文件系统路径，使路径操作更安全、更直观。
  - `mimetypes`: 用于猜测文件的 MIME 类型，在处理文件上传或数据 URI 时非常有用。
  - `base64`: 用于将二进制数据（如图片）编码为文本，以便在 JSON 或数据 URI 中传输。

## 2. 开发环境设置

要设置此项目的开发环境，请按照以下步骤操作：

1. **安装 Python**: 确保已安装与 `.python-version` 文件中指定的版本兼容的 Python。
2. **安装 uv**: 如果尚未安装，请按照其官方文档安装 `uv`。
3. **同步依赖**: 在项目根目录下运行 `uv sync`。此命令将读取 `uv.lock` 文件并安装所有必需的依赖项。
4. **创建 `.env` 文件**:
   - 在项目根目录中创建一个名为 `.env` 的文件。
   - 根据需要调用的 API，在其中添加必要的配置，例如：
     ```
     XHS_API_URL="http://your-api-service.com"
     XHS_API_KEY="your-secret-api-key"
     ```
5. **运行脚本**: 现在您可以通过命令行运行项目中的任何脚本。例如：
   ```bash
   python scripts/read_paper.py --path papers/001-example-paper/paper.pdf
   ```

## 3. 技术约束与决策

- **优先使用标准库**: 除非有充分的理由，否则优先使用 Python 标准库中的工具（如 `argparse`, `pathlib`），以减少外部依赖。
- **脚本化而非服务化**: 项目被设计为一系列按需运行的脚本，而不是一个长期运行的服务。这简化了部署和维护。
- **环境隔离**: 强烈建议在虚拟环境（由 `uv` 自动管理）中工作，以避免与其他项目的依赖冲突。
